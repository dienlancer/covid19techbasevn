(this.webpackJsonpch06=this.webpackJsonpch06||[]).push([[0],{70:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),o=n(16),i=n.n(o),s=n(9),a=n(10),u=n(13),h=n(12),l=n(11),j="CHANGE_SEARCH",d="SHOW_NOTIFY",b="HIDE_NOTIFY",O=function(){return{type:d}},f=function(){return{type:b}},p=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).handleChange=function(t){c.setState({country_name:t.target.value})},c.handleSearch=function(){c.props.goSearch(c.state.country_name)},c.handleClear=function(){c.props.goSearch(""),c.setState({country_name:""})},c.handleShowNotify=function(){c.props.showNotify()},c.handleHideNotify=function(){c.props.hideNotify()},c.state={country_name:""},c}return Object(a.a)(n,[{key:"render",value:function(){return Object(c.jsx)("form",{className:"form-search",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("h1",{className:"text-center covid19-title",children:"COVID19 API TECHBASEVN TEST"}),Object(c.jsx)("h6",{children:"Please type slug keyword of country : south-africa / china / palestine"}),Object(c.jsx)("input",{name:"country_name",value:this.state.country_name,onChange:this.handleChange,type:"text",className:"form-control",placeholder:"Enter slug of country ..."}),Object(c.jsxs)("div",{className:"input-group-btn btn-click",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:this.handleSearch,children:"Search"}),Object(c.jsx)("button",{type:"button",className:"btn btn-warning",onClick:this.handleClear,children:"Clear"})]})]})})}}]),n}(r.Component),y=Object(l.b)((function(t){return{query_country_name:t.search}}),(function(t,e){return{goSearch:function(e){t(function(t){return{type:j,query_country_name:t}}(e))},showNotify:function(){t(O())},hideNotify:function(){t(f())}}}))(p),m=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(a.a)(n,[{key:"render",value:function(){return!1!==this.props.noti.isShow&&Object(c.jsx)("div",{className:"loading",children:"DATA LOADING..."})}}]),n}(r.Component),v=Object(l.b)((function(t){return{noti:t.notify}}),null)(m),x=n(33),C=n(4),N=n(18),_=n(31),g=n.n(_),S=(n(47),function(t){return function(t){return new Promise((function(e,n){setTimeout((function(){e(fetch(t,{method:"GET"}).then((function(t){return t.json()})))}),3e3)}))}(t)}),w=n(32),k=n.n(w),E=function(t){return Object(N.usePromiseTracker)().promiseInProgress&&Object(c.jsx)("div",{className:"spinner",children:Object(c.jsx)(k.a,{type:"BallTriangle",color:"#f03",height:80,width:80})})},I=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var c;return Object(s.a)(this,n),(c=e.call(this,t)).state={covid19Items:[]},c}return Object(a.a)(n,[{key:"showCovid19List",value:function(t){var e=null;if(t.length>0){var n;n=t.map((function(t,e){var n=Object(c.jsx)(g.a,{format:"MM/DD/YYYY",children:t.Date});return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.Cases}),Object(c.jsx)("td",{children:t.City}),Object(c.jsx)("td",{children:t.CityCode}),Object(c.jsx)("td",{children:t.Country}),Object(c.jsx)("td",{children:t.CountryCode}),Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:t.Lat}),Object(c.jsx)("td",{children:t.Lon}),Object(c.jsx)("td",{children:t.Province}),Object(c.jsx)("td",{children:t.Status})]},e)})),e=Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead-dark",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Cases"}),Object(c.jsx)("th",{scope:"col",children:"City"}),Object(c.jsx)("th",{scope:"col",children:"CityCode"}),Object(c.jsx)("th",{scope:"col",children:"Country"}),Object(c.jsx)("th",{scope:"col",children:"CountryCode"}),Object(c.jsx)("th",{scope:"col",children:"Date"}),Object(c.jsx)("th",{scope:"col",children:"Lat"}),Object(c.jsx)("th",{scope:"col",children:"Lon"}),Object(c.jsx)("th",{scope:"col",children:"Province"}),Object(c.jsx)("th",{scope:"col",children:"Status"})]})}),Object(c.jsx)("tbody",{children:n})]})}else e=Object(c.jsx)("h3",{className:"text-center",children:"No data"});return e}},{key:"setCovid19data",value:function(t){var e=this;if(""!==t){var n=[],c="https://api.covid19api.com/country/"+t+"/status/confirmed";Object(N.trackPromise)(S(c).then((function(t){null==t.message?(n=t.map((function(t,e){return t})),e.setState({covid19Items:n})):e.setState({covid19Items:[]})})))}else this.setState({covid19Items:[]})}},{key:"componentWillMount",value:function(){var t=this.props.query_country_name;this.setCovid19data(t)}},{key:"componentWillReceiveProps",value:function(t){var e=t.query_country_name;this.setCovid19data(e)}},{key:"render",value:function(){var t=this.state.covid19Items;return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{}),this.showCovid19List(t)]})}}]),n}(r.Component),T=Object(l.b)((function(t){return{query_country_name:t.search}}),(function(t,e){return{showNotify:function(){t(O())},hideNotify:function(){t(f())}}}))(I),D=[{path:"/",exact:!0,main:function(){return Object(c.jsx)(T,{})}}],L=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(c.jsx)(x.a,{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col",children:[Object(c.jsx)(y,{}),Object(c.jsx)(v,{}),this.showRoute(D)]})})})})}},{key:"showRoute",value:function(t){var e=null;return t.length>0&&(e=t.map((function(t,e){return Object(c.jsx)(C.a,{exact:t.exact,path:t.path,component:t.main},e)}))),Object(c.jsx)(C.c,{children:e})}}]),n}(r.Component),P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))},A=n(14),q=n(26),F={isShow:!1},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return t.isShow=!0,Object(q.a)({},t);case b:return t.isShow=!1,Object(q.a)({},t);default:return t}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return e.query_country_name;default:return t}},Y=Object(A.b)({notify:H,search:R}),B=Object(A.c)(Y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(c.jsx)(l.a,{store:B,children:Object(c.jsx)(L,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.6a33aea2.chunk.js.map